<app-navigation></app-navigation>
<h1 class="favorite-title">My favourite Movies </h1>
<p class="favorite-subtitle" *ngIf="(favorites.length === 0)">There are no movies added to favourite list. To add movies, go to movie page and click on favourite icon on movie card.</p>

<div class="favorite">
<!-- The ngFor directive (*ngFor) is used to loop through the favouriteMovies array in the component. A mat-card is then rendered for each movie -->
      <mat-card class="mat-card" *ngFor="let favs of favorites; let i = index;">
            <div 
                  mat-icon-button 
                  class="favorite-button"
                  (click)="deleteFavoriteMovie(favs._id, favs.title)"
                  >
                        <mat-icon>favorite</mat-icon>
            </div>
            <mat-card-header>
                  <!-- String interpolation "{{ }}" is used to output data from the class to the template -->
                  <mat-card-title     mat-card-title class="card-title">{{favs.title}}</mat-card-title>
                  <mat-card-subtitle class="card-subtitle">Directed by: {{favs.director.name}} </mat-card-subtitle>
                  <mat-card-subtitle class="card-subtitle">Released: {{favs.releasedYear}}</mat-card-subtitle>
            </mat-card-header>
            <img mat-card-xl-image src={{favs.imagepath}}  alt = {{favs.title}}/>
            <mat-card-actions>
                  <button
                        mat-button
                        (click)="openGenreDialog(favs.genre.name, favs.genre.description)"
                  >
                        Genre
                  </button>
                  <button  
                        mat-button
                        (click)="openDirectorDialog(favs.director.name, favs.director.bio)"
                  >
                        Director
                  </button>
                  <button  
                        mat-button
                        (click)="openSynopsisDialog(favs.title, favs.description)"
                  >
                        Synopsis
                  </button>
                  
            </mat-card-actions>
      </mat-card>
</div>